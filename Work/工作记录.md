# 日报

密码:w**0**130126F

# 2023年4月27日

> 任务中心新增根据铁民给的数据进行与各种选择控件绑定以及功能控件选择数据逻辑和适配

```
1、动态新增大量小任务部分,由于大量的输入框和下拉框动态生成,需要进行输入软键盘适配和数据输入数据获取。
   动态新增功能模块交互完成.且用户没有输入可提示对应获取输入框焦点。
2、根据昨天给的数据模型进行模拟数据获取设置到对应的控件上面.
   数据模型绑定成功.后期看软名接口对接 **[children]**
3、对于时间选择控件进行昨天讨论进行限制设置以及时间获取等.
   时间选择控件交互和逻辑都已经处理.且增加了提示红色显示,当用户设置完成可再次变黑色。
4、最后保存时候,获取所有当前的控件内容,主要是动态生成列表部分.动态生成取值可能比较复杂。
   通过便利动态帅选ID进行对应UI控件的空判断等进行交互提示用户
5、代码提交到github 私有库
```



# 2023年4月28日

> 根据UI效果图，进行UI效果实现

##### 1、采集页面

# 2023年5月03日

采集信息详情复杂列表界面根据UI效果图以及切图进行开发

```
1、信息采集详情收费站列表模块时间2小时
2、服务区采集列表部分时间大概2小时。
3、桥梁区采集嵌套列表部分时间大概2小时
4、根据数据接口进行UI交互接口的开放。保证后期数据增多可用3小时左右。
```



# 2023年5月04日

采集信息详情复杂列表界面根据UI效果图以及切图进行开发

```
1、信息采集详情收费站列表模块时间2小时
2、服务区采集列表部分时间大概2小时。
3、桥梁区采集嵌套列表部分时间大概2小时
4、根据数据接口进行UI交互接口的开放。保证后期数据增多可用3小时左右。
```

# 2023年5月05日

任务新增界面根据UI进行适配。时间8小时

```
1、任务新增界面根据UI进行适配。
2、UI对横竖屏和手机机型大概进行适配。等后期遇到具体机型进行调试UI
3、对顶部状态栏bar颜色根据Navigation进行动态修改适配不同的页面
4、对于任务新增功能，动态添加任务UI部分进行适配。
5、代码布局优化。
```

# 2023年5月06日

任务首页列表搭建网络请求框架搭建和明哥调通了和服务器的响应。时间8小时。

```
1、首页任块列表的开发。
2、进行网络请求框架的搭建。
3、和明哥调试服务。
4、对单机平板和移动应用的讨论。
5、任块列表接口调试完毕，进行网络请求数据且展示完成。
6、采集列表首页接口调试完毕，对服务数据展示。
```

# 2023年5月08日

主要进行手机尺寸的调试适配

```
1、首页采集模块的兼容手机尺寸模式调试适配。
2、采集详情兼容手机尺寸模式调试适配。
3、首页任务兼容手机尺寸模式调试适配。
4、任务新增模块兼容手机尺寸模式调试适配。
5、代码的优化和逻辑的调整等....
```

# 2023年5月09日

根据设计出图进行首页采集和任务页面调整适配

```
1、根据设计出图进行首页采集和任务页面调整适配
2、任务列表分页功能的编写。
3、实现上啦无限滚动加载。提供数据请求过程加载圈等效果。
```

# 2023年5月10日

接口调试：

根据设计出图进行首页采集和任务页面调整适配

```
1、任务中心详情页面任务类型数据和任务周期接口
2、获取负责人接口编写
```

# 2023年5月11日

根据PC端对添加任务界面进行自定义控件。由于Google官方没有自带的联动多级下啦控件。所以需要大量时间来进行自定义。

```
1、任务新增任务类型需要下拉弹窗，且有多选等操作。对这部分进行自定义，实现用户可以多项选择，对应的任务控件上方有各项选择，且各个都可以点击删除。对应的下拉弹窗内部的数据UI也跟随变动。
2、新增小任务，复杂表单每个点击都需要弹窗人员多级联动选择，这一块也同样自定义。实现下拉多级联动效果。且多个人员表单都不可影响数据。
```

# 2023年5月12日

由于内网原因，大部分情况下，未连接内网都是没法点击查看UI效果的。所以增加假数据，方便使用者了解应用的功能和查看效果。

```
1、由于内网原因，大部分情况下，未连接内网都是没法点击查看UI效果的。所以增加假数据，方便使用者了解应用的功能和查看效果。
2、调试完成任务新增接口。新增成功。
3、用DataStore进行用户设置储存数据访问本地还是网络状态，当用户未连接内网时，可以通过设置中点击进入设置中心界面开启本地数据，然后进行使用。
```

# 2023年5月15日

登陆界面根据设计UI进行界面布局、接口调试、用户名和密码等逻辑交验

```
1、登陆界面布局根据UI设计进行调试。自定义半圆角shape等，根据具体px进行界面编写。1小时
2、登陆界面验证码和明哥一起确认并调试相关验证码接口，搭建登陆部分的服务框架，因为host和端口不一致。用时3小时。
3、登陆接口调试，由于cooke需要验证码和登陆接口一致，一下午基本和明哥在调试中。最终通过cooke发现问题，并解决。登陆接口调试完成。
4、登陆和验证码部分代码逻辑编写。包括网络层，数据层，和交互逻辑层。View交互层。
```

# 2023年5月16日

主要还是解决登陆界面验证码和登陆接口Coocke问题。

```
1、发现cooke不变不管用户名和密码是否一致都会默认登陆成功。主要解决了验证码和登陆接口的cooke问题。
   验证码请求成功->请求过程拦截储存cookes
   验证码请求失败->再次提示验证码过期需要再次请求等
   登陆请求过程->获取本地cookes，如果有cookes在其拦截器设置其cookes、无请求失败
   请求失败根据请求结果进行提示是否再次获取验证码还是登陆密码和用户名错误等逻辑。
2、通过DataStore对用户的登陆数据进行保存，并在用户界面进行显示用户名，在后面接口获取对应的userId。
3、通过登陆userId进行采集列表用户数据请求。
```

工项目网络图片使用。自己图床

![](https://gitee.com/LuHenChang/blog_pic/raw/master/image-20230516202704434.png)

![daolu_example](https://gitee.com/LuHenChang/blog_pic/raw/master/daolu_example.png)

# 2023年5月17日

主要和服务端沟通进行采集信息详情的构建。

```
1、完成了采集线路模块详情的：铁路高地模块、路径收费站模块、路径桥模块、铁路上行立交模块。包括UI适配器，每个模块都代表着一个适配UI容器。
3、通过接口进行组装对应对的数据。
4、针对相关后台提供的文档，进行对应字段说明来展示UI内容等。以及相关逻辑编写。
```

# 2023年5月18日

1、继续采集信息详情的构建。对于不同数据模型进行适配器的搭建和数据和控件的绑定展示等。
2、庞大的适配器代码进行优化，通过扩展函数以及范型注入优化庞杂的多模块适配器。

```
1、铁路站点模块。
2、通道溶洞模块。
3、通道隧道模块。
4、平交道路模块。
5、铁路桥梁模块。
6、通道溶洞模块。
7、通道隧道模块。
8、平交道路信息
9、铁路桥梁信息
10、铁路上行道路
11、路径关键人员采集表
12路径服务区域

```

